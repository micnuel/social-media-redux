{"ast":null,"code":"var _jsxFileName = \"/Users/emeka/Documents/Tutorials/Projects/redux-social/social-media-redux/redux-essentials-example-app/src/features/notifications/notificationsList.js\";\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { formatDistanceToNow, parseISO } from 'date-fns';\nimport { selectAllNotifications, allNotificationsRead } from './notificationsSlice';\nimport { selectAllUsers } from '../users/usersSlice';\nimport classnames from 'classnames';\nexport const NotificationsList = () => {\n  const notifications = useSelector(selectAllNotifications);\n  const users = useSelector(selectAllUsers);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(allNotificationsRead());\n  });\n  const renderedNotifications = notifications.map(notification => {\n    const date = parseISO(notification.date);\n    const timeAgo = formatDistanceToNow(date);\n    const userL = users.find(user => user.id === notification.user) ? users.find(user => user.id === notification.user) : {\n      name: 'Unknown User'\n    };\n    const notificatonClassname = classnames('notification', {\n      new: notification.isNew\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: notification.id,\n      className: notificatonClassname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }\n    }, userL.name), \" \", notification.message), /*#__PURE__*/React.createElement(\"div\", {\n      title: notification.date,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }\n    }, timeAgo, \" ago\")));\n  });\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"notificationsList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, \"Notifications\"), renderedNotifications);\n};","map":{"version":3,"sources":["/Users/emeka/Documents/Tutorials/Projects/redux-social/social-media-redux/redux-essentials-example-app/src/features/notifications/notificationsList.js"],"names":["React","useEffect","useSelector","useDispatch","formatDistanceToNow","parseISO","selectAllNotifications","allNotificationsRead","selectAllUsers","classnames","NotificationsList","notifications","users","dispatch","renderedNotifications","map","notification","date","timeAgo","userL","find","user","id","name","notificatonClassname","new","isNew","message"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,mBAAR,EAA6BC,QAA7B,QAA4C,UAA5C;AACA,SAAQC,sBAAR,EAA+BC,oBAA/B,QAA2D,sBAA3D;AACA,SAAQC,cAAR,QAA6B,qBAA7B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACnC,QAAMC,aAAa,GAAGT,WAAW,CAACI,sBAAD,CAAjC;AACA,QAAMM,KAAK,GAAGV,WAAW,CAACM,cAAD,CAAzB;AACA,QAAMK,QAAQ,GAAGV,WAAW,EAA5B;AAEAF,EAAAA,SAAS,CAAC,MAAK;AACXY,IAAAA,QAAQ,CAACN,oBAAoB,EAArB,CAAR;AACH,GAFQ,CAAT;AAGA,QAAMO,qBAAqB,GAAGH,aAAa,CAACI,GAAd,CAAkBC,YAAY,IAAG;AACvD,UAAMC,IAAI,GAAGZ,QAAQ,CAACW,YAAY,CAACC,IAAd,CAArB;AACA,UAAMC,OAAO,GAAGd,mBAAmB,CAACa,IAAD,CAAnC;AACA,UAAME,KAAK,GAAGP,KAAK,CAACQ,IAAN,CAAWC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAWN,YAAY,CAACK,IAA3C,IACdT,KAAK,CAACQ,IAAN,CAAWC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,YAAY,CAACK,IAA5C,CADc,GACoC;AAC9CE,MAAAA,IAAI,EAAE;AADwC,KADlD;AAIA,UAAMC,oBAAoB,GAAEf,UAAU,CAAC,cAAD,EAAiB;AACnDgB,MAAAA,GAAG,EAACT,YAAY,CAACU;AADkC,KAAjB,CAAtC;AAGA,wBACI;AAAK,MAAA,GAAG,EAAEV,YAAY,CAACM,EAAvB;AAA2B,MAAA,SAAS,EAAEE,oBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIL,KAAK,CAACI,IAAV,CADF,OACuBP,YAAY,CAACW,OADpC,CADF,eAIE;AAAK,MAAA,KAAK,EAAEX,YAAY,CAACC,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIC,OAAJ,SADF,CAJF,CADJ;AAWH,GArByB,CAA9B;AAuBA,sBACI;AAAS,IAAA,SAAS,EAAC,mBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEGJ,qBAFH,CADJ;AAOH,CAtCM","sourcesContent":["import React, {useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {formatDistanceToNow, parseISO} from 'date-fns';\nimport {selectAllNotifications,allNotificationsRead}  from './notificationsSlice';\nimport {selectAllUsers} from '../users/usersSlice';\nimport classnames from 'classnames'\n\nexport const NotificationsList = () => {\n    const notifications = useSelector(selectAllNotifications)\n    const users = useSelector(selectAllUsers)\n    const dispatch = useDispatch()\n\n    useEffect(() =>{\n        dispatch(allNotificationsRead())\n    })\n    const renderedNotifications = notifications.map(notification =>{\n            const date = parseISO(notification.date)\n            const timeAgo = formatDistanceToNow(date)\n            const userL = users.find(user => user.id ===notification.user)?\n            users.find(user => user.id === notification.user):{\n                name: 'Unknown User'}\n\n            const notificatonClassname =classnames('notification', {\n                new:notification.isNew\n            })\n            return (\n                <div key={notification.id} className={notificatonClassname}>\n                  <div>\n                    <b>{userL.name}</b> {notification.message}\n                  </div>\n                  <div title={notification.date}>\n                    <i>{timeAgo} ago</i>\n                  </div>\n                </div>\n              )\n            \n        }\n    )\n    return (\n        <section className=\"notificationsList\">\n          <h2>Notifications</h2>\n          {renderedNotifications}\n        </section>\n      )\n\n}"]},"metadata":{},"sourceType":"module"}